package Pharmacy_management;

import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;

import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JOptionPane;
import javax.swing.JPasswordField;
import javax.swing.JTextField;

public class adminaddmedicine extends JFrame implements ActionListener {
	JLabel l,l1,l2,l3,l4,l5;
	JTextField t1,t2,t3,t4;

	JButton btn1,btn2;
	
	
	public adminaddmedicine() {
		
		l1=new JLabel("Medicine Name ");
		l2=new JLabel("mfg.Date");
		l3=new JLabel("Exp.Date");
		l4=new JLabel("M.R.P");
		
		
		t1=new JTextField();
		t2=new JTextField();
		t3=new JTextField();
		t4=new JTextField();
		btn1=new JButton("Submit");
		btn2=new JButton("Back");
		
		
		
		add(l1);
		add(l2);
		add(l3);
		add(l4);
		add(t1);
		add(t2);
		add(t3);
		add(t4);
		
		add(btn1);
		add(btn2);

		
		setVisible(true);
	    setSize(500, 400);
		setResizable(false);	
		setLayout(null);
		setBounds(700, 200, 350, 500);
		
		
		l1.setBounds(45, 80, 100, 20);
		l2.setBounds(45, 130, 100, 20);
		l3.setBounds(45, 180, 100, 20);
		l4.setBounds(45, 230, 100, 20);
		
		
		t1.setBounds(135, 82, 140, 20);
		t2.setBounds(135, 131, 140, 20);
		t3.setBounds(135, 180, 140, 20);
		t4.setBounds(135, 229, 140, 20);
		
		

		btn1.setBounds(60, 345, 90, 30);
		btn2.setBounds(180, 345, 90, 30);
		
		btn1.addActionListener(this);
		btn2.addActionListener(this);
		
		
		
		
	}


	@Override
	public void actionPerformed(ActionEvent e) {
		
		if(e.getSource()==btn2)
		{
			loginpage p=new loginpage();
			p.setVisible(true);
			p.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
		    this.dispose();
		    
		    
		}
		if(e.getSource()==btn1)
		{
			try
			{
				String medi=t1.getText();
				String mfg=t2.getText();
				String exp=t3.getText();
				String mrp=t4.getText();
				
				
				
				Class.forName("com.mysql.cj.jdbc.Driver");
				Connection con=DriverManager.getConnection("jdbc:mysql://localhost:3306/pankaj","root","root");
//				Statement st=con.createStatement();
				PreparedStatement pst=con.prepareStatement("insert into stock1 values(?,?,?,?)");
				pst.setString(1, medi);
				pst.setString(2, mfg);
				pst.setString(3, exp);
				pst.setString(4, mrp);
			 
				
				
				pst.executeUpdate();  
				
					JOptionPane.showMessageDialog(l3, "THANK YOU"," ",JOptionPane.INFORMATION_MESSAGE);
				
				
				
			    
			}	
			
		
			
			catch(Exception e1)
			{
		      e1.printStackTrace();
			}
		}
			
		}
		
		
	}


